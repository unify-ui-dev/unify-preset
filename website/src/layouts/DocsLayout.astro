---
import "@assets/css/scrollbar.css";
import "@assets/css/doc-styles.css"
import Sidebar from "@components/docs/base/Sidebar.astro";
import Base from "./Base.astro";
import DocNavbar from "@components/docs/ui/DocsNavbar.astro";
import type { MarkdownHeading } from "astro";
import type { SeoType } from "../types";
import { defaultOgImage, defaultOgAlt, keywordsDef } from "../const";
import DocsFooter from "@components/docs/ui/DocsFooter.astro";
import TopDocsNav from "@components/docs/base/TopDocsNav.astro";

interface Props {
  activeGroup: string;
  activeItem: string;
  description?: string;
  headings: MarkdownHeading[];
  keywords?: string;
  title: string;
  hideTableOfContent?:boolean;
  ogImage?: {
    src: string;
    alt: string;
  };
}

const { activeGroup, activeItem } = Astro.props;

const { headings, title, keywords, ogImage, description, hideTableOfContent } = Astro.props;

const seo: SeoType = {
  ogImage: {
    src: ogImage?.src || defaultOgImage,
    alt: ogImage?.alt || defaultOgAlt,
  },
  keywords: `${keywordsDef} ${keywords ? `, ${keywords}` : ""}`,
  title: title,
  description: description
    ? description
    : "Easily add interactive Components to your App.",
};
---

<Base seo={seo}>
  <DocNavbar />
  <div
    class="max-w85rem grid mx-auto lg-grid-cols-[16rem_minmax(0,1fr)] md-px8"
  >
    <Sidebar activeGroup={activeGroup} activeItem={activeItem} />
    <div class="grid relative">
      <TopDocsNav headings={headings} hideTableOfContent={hideTableOfContent}/>
      <main class="grid xl-grid-cols-[1fr_230px] mb20 px4 sm-px8 lg-px0">
        <slot />
      </main>
      <DocsFooter />
    </div>
  </div>
</Base>
<script>
  import "@assets/js/doc-script";
  import "@assets/js/scrollbar";
</script>
